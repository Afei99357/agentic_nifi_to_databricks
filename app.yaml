command: [
  "sh",
  "-c",
  "flask --app app.py run --host 0.0.0.0 --port ${PORT:-8080}"
]

env:
  # Delta table configuration
  - name: DELTA_TABLE_NAME
    value: "eliao.nifi_to_databricks.nifi_flows"

  # SQL Warehouse connection (for Delta table access via SQL Connector)
  - name: DATABRICKS_SERVER_HOSTNAME
    value: "${DATABRICKS_SERVER_HOSTNAME}"
  - name: DATABRICKS_HTTP_PATH
    value: "${DATABRICKS_HTTP_PATH}"
  - name: DATABRICKS_TOKEN
    value: "${DATABRICKS_TOKEN}"

  # Agent notebook path
  - name: AGENT_NOTEBOOK_PATH
    value: "/Workspace/Users/eliao@bpcs.com/agentic_nifi_to_databricks/notebooks/nifi_conversion_dummy_agent"
